<!DOCTYPE html>
<html th:replace="~{main :: main(~{::title}, ~{}, ~{::section}, ~{})}" xmlns:th="http://thymeleaf.com">
<head>
	<title>Wishlist</title>
</head>
<body>
<section>
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-xl-10 col-lg-11">
				<div class="page-header">
					<h1>My Wishlist</h1>
					<p class="lead">Description of wishlist goes here.</p>
				</div>
				<hr>
				<div class="content-list">
					<div class="content-list-body row">
						<div th:each="wish : ${user.wishes}" class="col-lg-12">
							<div class="card card-task">
							  <div class="progress">
							    <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
							  </div>
							  <div class="card-body">
							    <div class="card-title">
							      <h6 th:text="${wish.description}">Wish description goes here</h6>
							      <!-- <span class="text-small">Due Tomorrow</span> -->
							    </div>
							    <div class="card-meta">
							      <ul class="avatars">
						      	    <li th:each="reference : ${wish.references}"><a th:href="${reference.url}" target="_blank"><i class="fal fa-link fa-lg fa-fw"></i></a></li>
							      </ul>
							      <div class="d-flex align-items-center">
							        <!-- <i class="material-icons">playlist_add_check</i> -->
							        <span th:text="${wish.price.price}"></span>
							      </div>
							      <div class="dropdown card-options">
							        <button class="btn-options" type="button" id="task-dropdown-button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
							          <i class="material-icons">more_vert</i>
							        </button>
							        <div class="dropdown-menu dropdown-menu-right">
							          <a class="dropdown-item" th:attr="data-wish-id=${wish.id}" href="#">Edit</a>
							          <div class="dropdown-divider"></div>
							          <a class="dropdown-item text-danger" th:attr="data-wish-id=${wish.id}" href="#">Delete</a>
							        </div>
							      </div>
							    </div>
							  </div>
							</div><!--end of task-->	
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-12">
						<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#new-wish-modal">Make a wish</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<!-- New wish modal -->
	<div class="modal fade" id="new-wish-modal" tabindex="-1" role="dialog" aria-labelledby="new-wish-modal-label" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<form action="wish" method="post">
					<div class="modal-header">
						<h5 class="modal-title" id="new-wish-modal-label">Make a wish!</h5>
						<button type="button" class="close btn btn-round" data-dismiss="modal" aria-label="Close">
							<i class="material-icons">close</i>
						</button>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label for="new-wish-url">URL</label>
							<input id="new-wish-url" class="form-control" type="text" placeholder="http://www.example.com/two-front-teeth" name="urls" />
						</div>
						<div class="form-group">
							<label for="new-wish-description">Description</label>
							<input id="new-wish-description" class="form-control" type="text" placeholder="My two front teeth..." name="description" required />
						</div>
						<div class="form-group">
							<label for="new-wish-price">Price</label>
							<div class="input-group input-group round">
								<div class="input-group-prepend">
									<span class="input-group-text">
										<i class="fal fa-dollar-sign"></i>
									</span>
								</div>
								<input id="new-wish-price" class="form-control" type="text" name="price" placeholder="14.99" />
							</div>
							<small id="new-wish-price-help" class="form-text text-muted">This can be a single amount or a range (e.g. 15-20)</small>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
						<button type="submit" class="btn btn-primary">Add to wishlist</button>
					</div>
				</form>
			</div>
		</div>
	</div>

</section>
</body>
</html>
